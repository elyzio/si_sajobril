{% extends "main/layout1.html" %}
{% load static %}
{% load crispy_forms_tags %}


{% block head_link %}
<!-- Data Table JS
		============================================ -->
<link rel="stylesheet" href="{% static 'notica/css/jquery.dataTables.min.css' %}">
{% endblock head_link %}

{% block contents %}
<div class="container">
  {% if messages %}
  {% for message in messages %}
  <div id="divmessage" class="alert alert-{{ message.tags }} alert-dismissable">
    <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>
    {{message}}
  </div>
  {% endfor %}
  {% endif %}

  <div class="card">
    <div class="card-header h6 font-weight-bold">
      <div class="row">
        <div class="col-10">Lista Turma</div>
        <div class="col-2"><a href="{% url 'addTurma' %}" class="btn btn-sm btn-outline-primary text-primary"><i
              class="fa fa-plus"></i> Aumenta</a>
        </div>
      </div>
    </div>
    <div class="card-body">
      <div class="col-8">
        <table class="table table-striped" id="data-table-basic">
          <thead>
            <tr>
              <th>No.</th>
              <th>Turma</th>
              <th>Classe</th>
              <th>Departamento</th>
              <th>Aksaun</th>
            </tr>
          </thead>
          <tbody>
            {% for tr in tr %}
            <tr>
              <td scope="row"> {{forloop.counter}} </td>
              <td>{{tr.Turma}}</td>
              <td>{{tr.classe.name }}</td>
              <td>{{ tr.classe.Departamento}}</td>

              <td>
                <a href="{% url 'updateTurma' tr.id %}" class="btn rounded-0 btn-sm btn-info"
                  title="Update Turma"><i class="fa fa-pencil"></i></a>
                <button type="button" data-toggle="modal" data-target="#delete-{{tr.id}}"
                  class="btn rounded-0 btn-sm btn-danger" title="Hamoos Turma"><i class="fa fa-trash"></i></button>
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% for data in tr %}
<div class="modal fade" id="delete-{{data.id}}" role="dialog">
  <div class="modal-dialog modals-default">
    <div class="modal-content">
      <div class="modal-header">
        <button type="button" class="close" data-dismiss="modal">&times;</button>
      </div>
      <div class="modal-body">
        <h2>Hamoos Munisipiu</h2>
        <p>Hakarak hamoos dadus Turma {{data.Turma}} {{data.classe}}?</p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn rounded-0 btn-sm btn-secondary" data-dismiss="modal">Kansela</button>
        <a href="{% url 'deleteTurma' data.id %}" class="btn rounded-0 btn-sm btn-default">Hamoos</a>
      </div>
    </div>
  </div>
</div>
{% endfor %}

{% endblock contents %}


{% block scripts %}
<!-- Data Table JS
		============================================ -->
<script src="{% static 'notica/js/data-table/jquery.dataTables.min.js' %}"></script>
<script src="{% static 'notica/js/data-table/data-table-act.js' %}"></script>
{% endblock scripts %}